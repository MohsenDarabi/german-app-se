import{s as je,n as q,d as p,r as we,a as F,q as pe,i as S,b as l,u as le,l as c,c as d,e as D,f as G,g as x,m as L,h as f,t as N,j as E,v as Ie,w as Ve,A as ge}from"../chunks/scheduler.DHaUa2t2.js";import{S as xe,i as Ee,a as ve,t as de,c as ye,d as Te,m as Le,e as Me,b as He,g as Pe}from"../chunks/index.BLaPU33Z.js";import{d as fe}from"../chunks/index.DS5prfHJ.js";import{p as Re}from"../chunks/audio.D-onYBYO.js";const be=[24*60*60*1e3,3*24*60*60*1e3,7*24*60*60*1e3,14*24*60*60*1e3,30*24*60*60*1e3];function Ae(a,e){if(!e)return{nextLevel:0,nextReviewDate:new Date(Date.now()+be[0])};const t=Math.min(a+1,4);return{nextLevel:t,nextReviewDate:new Date(Date.now()+be[t])}}async function Ge(){const a=new Date;return await fe.vocab.where("nextReview").belowOrEqual(a).toArray()}async function Ne(a,e){const t=await fe.vocab.get(a);if(!t)return;const s=t.srsLevel??0,{nextLevel:r,nextReviewDate:o}=Ae(s,e);await fe.vocab.update(a,{srsLevel:r,nextReview:o})}function Ce(a){let e,t,s=a[0].example+"",r,o,u,_="Ù…Ø«Ø§Ù„";return{c(){e=f("div"),t=f("p"),r=N(s),o=E(),u=f("p"),u.textContent=_,this.h()},l(v){e=d(v,"DIV",{class:!0});var i=D(e);t=d(i,"P",{class:!0});var m=D(t);r=G(m,s),m.forEach(p),o=x(i),u=d(i,"P",{class:!0,"data-svelte-h":!0}),L(u)!=="svelte-77xs0j"&&(u.textContent=_),i.forEach(p),this.h()},h(){c(t,"class","example-text svelte-1f3860k"),c(u,"class","example-label svelte-1f3860k"),c(e,"class","example-box svelte-1f3860k")},m(v,i){S(v,e,i),l(e,t),l(t,r),l(e,o),l(e,u)},p(v,i){i&1&&s!==(s=v[0].example+"")&&F(r,s)},d(v){v&&p(e)}}}function ke(a){let e,t,s=`âŒ Ø§Ø´ØªØ¨Ø§Ù‡
        <span class="btn-subtitle svelte-1f3860k">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¬Ø¹Ø¨Ù‡ Û±</span>`,r,o,u=`âœ… ØµØ­ÛŒØ­
        <span class="btn-subtitle svelte-1f3860k">Ø¬Ø¹Ø¨Ù‡ Ø¨Ø¹Ø¯ÛŒ</span>`,_,v;return{c(){e=f("div"),t=f("button"),t.innerHTML=s,r=E(),o=f("button"),o.innerHTML=u,this.h()},l(i){e=d(i,"DIV",{class:!0});var m=D(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-1ebf4vu"&&(t.innerHTML=s),r=x(m),o=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),L(o)!=="svelte-1e066xh"&&(o.innerHTML=u),m.forEach(p),this.h()},h(){c(t,"class","wrong-btn svelte-1f3860k"),c(o,"class","correct-btn svelte-1f3860k"),c(e,"class","grade-buttons svelte-1f3860k")},m(i,m){S(i,e,m),l(e,t),l(e,r),l(e,o),_||(v=[le(t,"click",a[7]),le(o,"click",a[8])],_=!0)},p:q,d(i){i&&p(e),_=!1,we(v)}}}function Oe(a){let e,t,s,r,o,u=a[0].word+"",_,v,i,m="ğŸ”Š",C,n,h="Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØ±Ø¬Ù…Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯",T,b,R,I=a[0].translation+"",B,g,j,V,O,w=a[0].example&&Ce(a),k=a[1]&&ke(a);return{c(){e=f("div"),t=f("div"),s=f("div"),r=f("div"),o=f("h2"),_=N(u),v=E(),i=f("button"),i.textContent=m,C=E(),n=f("p"),n.textContent=h,T=E(),b=f("div"),R=f("p"),B=N(I),g=E(),w&&w.c(),j=E(),k&&k.c(),this.h()},l(y){e=d(y,"DIV",{class:!0});var M=D(e);t=d(M,"DIV",{class:!0,role:!0,tabindex:!0});var J=D(t);s=d(J,"DIV",{class:!0});var U=D(s);r=d(U,"DIV",{class:!0});var P=D(r);o=d(P,"H2",{class:!0});var se=D(o);_=G(se,u),se.forEach(p),v=x(P),i=d(P,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),L(i)!=="svelte-1lenzl9"&&(i.textContent=m),C=x(P),n=d(P,"P",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-x787x1"&&(n.textContent=h),P.forEach(p),T=x(U),b=d(U,"DIV",{class:!0});var X=D(b);R=d(X,"P",{class:!0});var A=D(R);B=G(A,I),A.forEach(p),g=x(X),w&&w.l(X),X.forEach(p),U.forEach(p),J.forEach(p),j=x(M),k&&k.l(M),M.forEach(p),this.h()},h(){c(o,"class","word svelte-1f3860k"),c(i,"class","audio-btn svelte-1f3860k"),c(i,"aria-label","Play pronunciation"),c(n,"class","hint svelte-1f3860k"),c(r,"class","flashcard-front svelte-1f3860k"),c(R,"class","translation svelte-1f3860k"),c(b,"class","flashcard-back svelte-1f3860k"),c(s,"class","flashcard-inner svelte-1f3860k"),c(t,"class","flashcard svelte-1f3860k"),c(t,"role","button"),c(t,"tabindex","0"),pe(t,"flipped",a[1]),c(e,"class","flashcard-wrapper svelte-1f3860k")},m(y,M){S(y,e,M),l(e,t),l(t,s),l(s,r),l(r,o),l(o,_),l(r,v),l(r,i),l(r,C),l(r,n),l(s,T),l(s,b),l(b,R),l(R,B),l(b,g),w&&w.m(b,null),l(e,j),k&&k.m(e,null),V||(O=[le(i,"click",a[3]),le(t,"click",a[2]),le(t,"keydown",a[6])],V=!0)},p(y,[M]){M&1&&u!==(u=y[0].word+"")&&F(_,u),M&1&&I!==(I=y[0].translation+"")&&F(B,I),y[0].example?w?w.p(y,M):(w=Ce(y),w.c(),w.m(b,null)):w&&(w.d(1),w=null),M&2&&pe(t,"flipped",y[1]),y[1]?k?k.p(y,M):(k=ke(y),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i:q,o:q,d(y){y&&p(e),w&&w.d(),k&&k.d(),V=!1,we(O)}}}function qe(a,e,t){let{card:s}=e,{onGrade:r}=e,o=!1;function u(){t(1,o=!o)}function _(n){n.stopPropagation(),Re(s.word,"de-DE")}function v(n,h){h.stopPropagation(),r(n),t(1,o=!1)}const i=n=>n.key==="Enter"&&u(),m=n=>v(!1,n),C=n=>v(!0,n);return a.$$set=n=>{"card"in n&&t(0,s=n.card),"onGrade"in n&&t(5,r=n.onGrade)},[s,o,u,_,v,r,i,m,C]}class Be extends xe{constructor(e){super(),Ee(this,e,qe,Oe,je,{card:0,onGrade:5})}}function De(a){let e,t,s,r,o=a[0].length+"",u,_,v,i,m;return{c(){e=f("div"),t=f("div"),s=N(a[1]),r=N(" Ø§Ø² "),u=N(o),_=N(" Ù…Ø±ÙˆØ± Ø´Ø¯Ù‡"),v=E(),i=f("div"),m=f("div"),this.h()},l(C){e=d(C,"DIV",{class:!0});var n=D(e);t=d(n,"DIV",{class:!0});var h=D(t);s=G(h,a[1]),r=G(h," Ø§Ø² "),u=G(h,o),_=G(h," Ù…Ø±ÙˆØ± Ø´Ø¯Ù‡"),h.forEach(p),v=x(n),i=d(n,"DIV",{class:!0});var T=D(i);m=d(T,"DIV",{class:!0,style:!0}),D(m).forEach(p),T.forEach(p),n.forEach(p),this.h()},h(){c(t,"class","progress-text svelte-1jgt9m4"),c(m,"class","progress-fill svelte-1jgt9m4"),ge(m,"width",a[5]+"%"),c(i,"class","progress-bar svelte-1jgt9m4"),c(e,"class","progress-info svelte-1jgt9m4")},m(C,n){S(C,e,n),l(e,t),l(t,s),l(t,r),l(t,u),l(t,_),l(e,v),l(e,i),l(i,m)},p(C,n){n&2&&F(s,C[1]),n&1&&o!==(o=C[0].length+"")&&F(u,o),n&32&&ge(m,"width",C[5]+"%")},d(C){C&&p(e)}}}function ze(a){let e,t;return e=new Be({props:{card:a[7],onGrade:a[8]}}),{c(){He(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,r){Le(e,s,r),t=!0},p(s,r){const o={};r&128&&(o.card=s[7]),e.$set(o)},i(s){t||(de(e.$$.fragment,s),t=!0)},o(s){ve(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function Fe(a){let e,t='<div class="empty-icon svelte-1jgt9m4">ğŸŠ</div> <h2 class="svelte-1jgt9m4">Ú©Ø§Ø±ØªÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø±ÙˆØ± Ù†ÛŒØ³Øª!</h2> <p class="svelte-1jgt9m4">Ø¢ÙØ±ÛŒÙ†! Ù‡Ù…Ù‡ ÙˆØ§Ú˜Ú¯Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø±ÙˆØ± Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p> <p class="empty-subtitle svelte-1jgt9m4">Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ø§Ø²Ú¯Ø±Ø¯ÛŒØ¯ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ù…Ø±ÙˆØ± Ù‡Ø³ØªÙ†Ø¯.</p> <div class="empty-actions svelte-1jgt9m4"><a href="/" class="primary-btn svelte-1jgt9m4">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</a> <a href="/vocabulary" class="secondary-btn svelte-1jgt9m4">Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ§Ú˜Ú¯Ø§Ù†</a></div>';return{c(){e=f("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-s39tvx"&&(e.innerHTML=t),this.h()},h(){c(e,"class","empty-state svelte-1jgt9m4")},m(s,r){S(s,e,r)},p:q,i:q,o:q,d(s){s&&p(e)}}}function Se(a){let e,t,s="ğŸ‰",r,o,u="Ù…Ø±ÙˆØ± ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯!",_,v,i,m,C="ğŸ“Š",n,h,T,b,R,I,B="Ø§Ù…ØªÛŒØ§Ø²",g,j,V,O="âœ…",w,k,y,M,J,U,P,se="ØµØ­ÛŒØ­",X,A,K,ue="ğŸ´",re,Y,ae,ie,Q,he="Ú©Ø§Ø±Øª Ù…Ø±ÙˆØ± Ø´Ø¯Ù‡",oe,W,me='<a href="/" class="primary-btn svelte-1jgt9m4">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</a> <a href="/vocabulary" class="secondary-btn svelte-1jgt9m4">Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ§Ú˜Ú¯Ø§Ù†</a>';return{c(){e=f("div"),t=f("div"),t.textContent=s,r=E(),o=f("h2"),o.textContent=u,_=E(),v=f("div"),i=f("div"),m=f("div"),m.textContent=C,n=E(),h=f("div"),T=N(a[6]),b=N("%"),R=E(),I=f("div"),I.textContent=B,g=E(),j=f("div"),V=f("div"),V.textContent=O,w=E(),k=f("div"),y=N(a[2]),M=N("/"),J=N(a[1]),U=E(),P=f("div"),P.textContent=se,X=E(),A=f("div"),K=f("div"),K.textContent=ue,re=E(),Y=f("div"),ae=N(a[1]),ie=E(),Q=f("div"),Q.textContent=he,oe=E(),W=f("div"),W.innerHTML=me,this.h()},l(z){e=d(z,"DIV",{class:!0});var H=D(e);t=d(H,"DIV",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-l7p6fs"&&(t.textContent=s),r=x(H),o=d(H,"H2",{class:!0,"data-svelte-h":!0}),L(o)!=="svelte-16f146r"&&(o.textContent=u),_=x(H),v=d(H,"DIV",{class:!0});var Z=D(v);i=d(Z,"DIV",{class:!0});var $=D(i);m=d($,"DIV",{class:!0,"data-svelte-h":!0}),L(m)!=="svelte-r7kgn0"&&(m.textContent=C),n=x($),h=d($,"DIV",{class:!0});var ce=D(h);T=G(ce,a[6]),b=G(ce,"%"),ce.forEach(p),R=x($),I=d($,"DIV",{class:!0,"data-svelte-h":!0}),L(I)!=="svelte-kqsgtd"&&(I.textContent=B),$.forEach(p),g=x(Z),j=d(Z,"DIV",{class:!0});var ee=D(j);V=d(ee,"DIV",{class:!0,"data-svelte-h":!0}),L(V)!=="svelte-1vwwmbk"&&(V.textContent=O),w=x(ee),k=d(ee,"DIV",{class:!0});var ne=D(k);y=G(ne,a[2]),M=G(ne,"/"),J=G(ne,a[1]),ne.forEach(p),U=x(ee),P=d(ee,"DIV",{class:!0,"data-svelte-h":!0}),L(P)!=="svelte-14469rv"&&(P.textContent=se),ee.forEach(p),X=x(Z),A=d(Z,"DIV",{class:!0});var te=D(A);K=d(te,"DIV",{class:!0,"data-svelte-h":!0}),L(K)!=="svelte-tgpz2h"&&(K.textContent=ue),re=x(te),Y=d(te,"DIV",{class:!0});var _e=D(Y);ae=G(_e,a[1]),_e.forEach(p),ie=x(te),Q=d(te,"DIV",{class:!0,"data-svelte-h":!0}),L(Q)!=="svelte-1w6otli"&&(Q.textContent=he),te.forEach(p),Z.forEach(p),oe=x(H),W=d(H,"DIV",{class:!0,"data-svelte-h":!0}),L(W)!=="svelte-1u19uve"&&(W.innerHTML=me),H.forEach(p),this.h()},h(){c(t,"class","completion-icon svelte-1jgt9m4"),c(o,"class","svelte-1jgt9m4"),c(m,"class","stat-icon svelte-1jgt9m4"),c(h,"class","stat-value svelte-1jgt9m4"),c(I,"class","stat-label svelte-1jgt9m4"),c(i,"class","stat-card svelte-1jgt9m4"),c(V,"class","stat-icon svelte-1jgt9m4"),c(k,"class","stat-value svelte-1jgt9m4"),c(P,"class","stat-label svelte-1jgt9m4"),c(j,"class","stat-card svelte-1jgt9m4"),c(K,"class","stat-icon svelte-1jgt9m4"),c(Y,"class","stat-value svelte-1jgt9m4"),c(Q,"class","stat-label svelte-1jgt9m4"),c(A,"class","stat-card svelte-1jgt9m4"),c(v,"class","stats-grid svelte-1jgt9m4"),c(W,"class","completion-actions svelte-1jgt9m4"),c(e,"class","completion-screen svelte-1jgt9m4")},m(z,H){S(z,e,H),l(e,t),l(e,r),l(e,o),l(e,_),l(e,v),l(v,i),l(i,m),l(i,n),l(i,h),l(h,T),l(h,b),l(i,R),l(i,I),l(v,g),l(v,j),l(j,V),l(j,w),l(j,k),l(k,y),l(k,M),l(k,J),l(j,U),l(j,P),l(v,X),l(v,A),l(A,K),l(A,re),l(A,Y),l(Y,ae),l(A,ie),l(A,Q),l(e,oe),l(e,W)},p(z,H){H&64&&F(T,z[6]),H&4&&F(y,z[2]),H&2&&F(J,z[1]),H&2&&F(ae,z[1])},i:q,o:q,d(z){z&&p(e)}}}function Ue(a){let e,t='<div class="spinner svelte-1jgt9m4"></div> <p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>';return{c(){e=f("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-vjfzgk"&&(e.innerHTML=t),this.h()},h(){c(e,"class","loading-state svelte-1jgt9m4")},m(s,r){S(s,e,r)},p:q,i:q,o:q,d(s){s&&p(e)}}}function Xe(a){let e,t,s,r,o="Ø¨Ø§Ø²Ú¯Ø´Øª â†",u,_,v="Ù…Ø±ÙˆØ± ÙÙ„Ø´â€ŒÚ©Ø§Ø±Øª",i,m,C,n,h,T,b=!a[3]&&a[0].length>0&&De(a);const R=[Ue,Se,Fe,ze],I=[];function B(g,j){return g[4]?0:g[3]?1:g[0].length===0?2:g[7]?3:-1}return~(n=B(a))&&(h=I[n]=R[n](a)),{c(){e=E(),t=f("div"),s=f("header"),r=f("a"),r.textContent=o,u=E(),_=f("h1"),_.textContent=v,i=E(),b&&b.c(),m=E(),C=f("main"),h&&h.c(),this.h()},l(g){Ie("svelte-8f1tug",document.head).forEach(p),e=x(g),t=d(g,"DIV",{class:!0,dir:!0});var V=D(t);s=d(V,"HEADER",{class:!0});var O=D(s);r=d(O,"A",{href:!0,class:!0,"data-svelte-h":!0}),L(r)!=="svelte-x28u4u"&&(r.textContent=o),u=x(O),_=d(O,"H1",{class:!0,"data-svelte-h":!0}),L(_)!=="svelte-19lhlo5"&&(_.textContent=v),i=x(O),b&&b.l(O),O.forEach(p),m=x(V),C=d(V,"MAIN",{class:!0});var w=D(C);h&&h.l(w),w.forEach(p),V.forEach(p),this.h()},h(){document.title="Ù…Ø±ÙˆØ± ÙÙ„Ø´â€ŒÚ©Ø§Ø±Øª - Deutschlern",c(r,"href","/"),c(r,"class","back-link svelte-1jgt9m4"),c(_,"class","svelte-1jgt9m4"),c(s,"class","review-header svelte-1jgt9m4"),c(C,"class","review-content svelte-1jgt9m4"),c(t,"class","review-page svelte-1jgt9m4"),c(t,"dir","rtl")},m(g,j){S(g,e,j),S(g,t,j),l(t,s),l(s,r),l(s,u),l(s,_),l(s,i),b&&b.m(s,null),l(t,m),l(t,C),~n&&I[n].m(C,null),T=!0},p(g,[j]){!g[3]&&g[0].length>0?b?b.p(g,j):(b=De(g),b.c(),b.m(s,null)):b&&(b.d(1),b=null);let V=n;n=B(g),n===V?~n&&I[n].p(g,j):(h&&(Pe(),ve(I[V],1,1,()=>{I[V]=null}),ye()),~n?(h=I[n],h?h.p(g,j):(h=I[n]=R[n](g),h.c()),de(h,1),h.m(C,null)):h=null)},i(g){T||(de(h),T=!0)},o(g){ve(h),T=!1},d(g){g&&(p(e),p(t)),b&&b.d(),~n&&I[n].d()}}}function Je(a,e,t){let s,r,o,u=[],_=0,v=0,i=0,m=!1,C=!0;Ve(async()=>{t(0,u=await Ge()),t(4,C=!1)});async function n(h){const T=u[_];await Ne(T.id,h),t(1,v++,v),h&&t(2,i++,i),_<u.length-1?t(9,_++,_):t(3,m=!0)}return a.$$.update=()=>{a.$$.dirty&513&&t(7,s=u[_]),a.$$.dirty&6&&t(6,r=v>0?Math.round(i/v*100):0),a.$$.dirty&3&&t(5,o=u.length>0?Math.round(v/u.length*100):0)},[u,v,i,m,C,o,r,s,n,_]}class Ze extends xe{constructor(e){super(),Ee(this,e,Je,Xe,je,{})}}export{Ze as component};
